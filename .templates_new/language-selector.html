{#
    .templates/language-selector.html
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

    Add one link to switch the language of the page (English to French, or French to English, soon more ?).
    WARNING: this is done with javascript and not a static Jinja template because there is no Jinja macro giving the path of the page without .en.html or .fr.html : the .en or .fr is IN the path...

    :copyright: Copyright 2017 Lilian Besson
    :license: GPLv3, see LICENSE for details.
#}
<div class="language-selector">
<script type="text/javascript">
	var pathname = window.location.pathname;
	var pagename = pathname.substring(0, pathname.length - 8);
    var extension = pathname.substring(pathname.length - 8);
	if (extension == '.fr.html') {
		window.document.write('<h3>En anglais ?<a class="image-reference" href="'
			+ pagename + '.en.html" title="Lire cette page en anglais ?" >'
			+ '<img style="width:36px; height:23px; float: right;"'
		    + 'src="{{ pathto('_images/.en-us.gif', true)|e }}" alt="En anglais ?" /></a></h3>');
	};
	if (extension == '.en.html') {
		window.document.write('<h3>In French?<a class="image-reference" href="'
			+ pagename + '.fr.html" title="Read this page in French?" >'
			+ '<img style="width:36px; height:23px; float: right;"'
			+ 'src="{{ pathto('_images/.fr.gif', true)|e }}" alt="In French?" /></a></h3>');
	};
</script>
</div>
